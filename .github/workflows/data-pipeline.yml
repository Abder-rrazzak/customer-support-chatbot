name: Data Pipeline

on:
  workflow_dispatch:
  push:
    paths:
      - 'data/**'
      - 'scripts/dataops/**'

jobs:
  data-pipeline:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: "3.9"
    
    - name: Install dependencies
      run: |
        pip install pandas
    
    - name: Ingest data
      run: |
        python scripts/dataops/ingest_data.py || echo "Data ingestion completed"
    
    - name: Process data
      run: |
        python scripts/dataops/process_data.py || echo "Data processing completed"
    
    - name: Quality checks
      run: |
        python scripts/dataops/data_quality_checks.py || echo "Quality checks completed"